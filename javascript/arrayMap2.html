<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <select name="gender" id="gender" onchange="onchangeFunc()">
        <option value="Male">Male</option>
        <option value="Female">Female</option>
    </select>
    <p id="show"></p>
    <script>
        var jsonData = [{ "id": 1, "first_name": "Jennee", "last_name": "O' Kelleher", "email": "jokelleher0@va.gov", "gender": "Female" },
        { "id": 2, "first_name": "Boonie", "last_name": "Bayliss", "email": "bbayliss1@usda.gov", "gender": "Male" },
        { "id": 3, "first_name": "Sarena", "last_name": "Portress", "email": "sportress2@gov.uk", "gender": "Female" },
        { "id": 4, "first_name": "Bevvy", "last_name": "Rebillard", "email": "brebillard3@marriott.com", "gender": "Female" },
        { "id": 5, "first_name": "Collie", "last_name": "Perkinson", "email": "cperkinson4@canalblog.com", "gender": "Female" },
        { "id": 6, "first_name": "Anastassia", "last_name": "Blannin", "email": "ablannin5@imdb.com", "gender": "Female" },
        { "id": 7, "first_name": "Gery", "last_name": "Craft", "email": "gcraft6@seesaa.net", "gender": "Male" },
        { "id": 8, "first_name": "Tremain", "last_name": "Cowill", "email": "tcowill7@comcast.net", "gender": "Male" },
        { "id": 9, "first_name": "Kathie", "last_name": "Muzzi", "email": "kmuzzi8@reverbnation.com", "gender": "Female" },
        { "id": 10, "first_name": "Gian", "last_name": "Moncrieffe", "email": "gmoncrieffe9@howstuffworks.com", "gender": "Male" },
        { "id": 11, "first_name": "Dave", "last_name": "Beddis", "email": "dbeddisa@gravatar.com", "gender": "Male" },
        { "id": 12, "first_name": "Waylin", "last_name": "Lanfare", "email": "wlanfareb@biglobe.ne.jp", "gender": "Male" },
        { "id": 13, "first_name": "Gil", "last_name": "Olech", "email": "golechc@godaddy.com", "gender": "Male" },
        { "id": 14, "first_name": "Abbye", "last_name": "Wrixon", "email": "awrixond@taobao.com", "gender": "Female" },
        { "id": 15, "first_name": "Rip", "last_name": "Eastes", "email": "reastese@posterous.com", "gender": "Male" }];
        console.log(jsonData);

        function onchangeFunc() {
            var newAry = jsonData.map(function (o, i, a) {
                o.first_name = o.first_name.toUpperCase();
                return o;
            });

            var filterAry = newAry.filter(function (o, i) {
                return o.gender == document.getElementById("gender").value;
            });

            console.log(filterAry);
            var $show = document.getElementById("show");
            //기존화면요소 지워주기
            var cnt = $show.children.length; //show가 가지고 있는 children 속성
            for (var i = 0; i < cnt; i++) {
                $show.removeChild($show.firstChild);
            }

            //하위자식으로 등록
            filterAry.forEach(function (a) {
                var $text = document.createTextNode(a.first_name + ", " + a.gender);
                var $li = document.createElement("li");
                $li.appendChild($text);
                $show.appendChild($li);
            });
        }



    </script>
</body>

</html>